(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),a=n(12),s=n.n(a),i=n(7),l=n(5),d=(n(25),n(18)),u=function(e){return function(t){window.open(e,"_blank").focus()}},j=function(e){var t=e.link;return Object(c.jsx)("div",{className:"git-hub-ref",children:Object(c.jsx)("img",{src:"/githubIcon.png",className:"header--navbar-img",onClick:u(t)})})},f=function(e){return function(t){window.open(e,"_blank").focus()}},b=function(e){var t=e.link;return Object(c.jsx)("div",{className:"linked-in-ref",children:Object(c.jsx)("img",{src:"/linkedinIcon.png",className:"header--navbar-img",onClick:f(t)})})},m=function(e){var t=e.setIsQuestionMarkInfoModalOpen;return Object(c.jsx)("div",{className:"question-mark-icon",onClick:function(){return t(!0)},children:Object(c.jsx)("img",{src:"/questionmarkIcon.png",className:"header--navbar-img"})})},h=function(e){var t=e.text;return Object(c.jsx)("h1",{children:t})},p=n(6),O=n.n(p),x=n(8),g=n(19),v=function(e){var t=e.setIsPdfConfirmed,n=e.setPdfNumberOfPages,r=e.setPdfFormat,a=e.setIsErrorInfoModalOpen,s=e.setInfoModalMessage,l=e.setLoadedPdfFile,d=e.dragAndDropText,u=e.setloadedPdfFileName,j=e.setIsAppLoading;var f=Object(o.useCallback)((function(e){e.forEach((function(c){(function(e){j(!0);var t=new FormData;return l(t),t.append("pdffile",e),new Promise(function(){var e=Object(x.a)(O.a.mark((function e(n,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://drawing-slicer.herokuapp.com/testfile",{method:"POST",body:t}).then((function(e){j(!1),n(e.text())})).catch((function(e){j(!1),c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})(e[0]).then((function(e){"Success"===(e=JSON.parse(e)).Status?(t(!0),n(e.NumberOfPages),r(e.DrawingFormat.toUpperCase()),u(e.Filename)):(s(e.ErrorMessage),a(!0))}))}))}),[]),b=Object(g.a)({accept:"application/pdf",onDrop:f}),m=b.getRootProps,h=b.getInputProps;return Object(c.jsxs)("div",Object(i.a)(Object(i.a)({},m()),{},{children:[Object(c.jsx)("input",Object(i.a)({},h())),Object(c.jsx)("p",{children:d})]}))},w=function(e){var t=e.ScaleButtonText,n=e.setScaleBeforeSlice;return Object(c.jsxs)("div",{className:"check-scale-options-button",children:[Object(c.jsx)("label",{children:t}),Object(c.jsx)("input",{type:"checkbox",id:"check-scale-options-button-id",onChange:function(){return document.getElementById("scale-format-options").disabled=!1,void(document.getElementById("check-scale-options-button-id").checked?(document.getElementById("scale-format-options").disabled=!1,n(!0)):(document.getElementById("scale-format-options").disabled=!0,n(!1)))}})]})},S=function(e){var t=e.SliceButtonText,n=e.SliceFunction;return Object(c.jsx)("div",{className:"slice-button",children:Object(c.jsx)("button",{onClick:function(){return n()},children:t})})},N=["A0","A1","A2","A3","A4","A5","A6","A7","A8"],k=function(e){var t=e.setScaleToFormat;return Object(c.jsx)("select",{id:"scale-format-options",disabled:!0,onChange:function(e){return t(e.target.value.toLowerCase())},children:N.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})},I=function(e){var t=e.setSliceByFormat;return Object(c.jsx)("select",{id:"slice-format-options",onChange:function(e){return t(e.target.value.toLowerCase())},children:N.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})},P={BACKEND_SERVER:"https://drawing-slicer.herokuapp.com/"};var y=function(e){var t=e.ScaleButtonText,n=e.SliceButtonText,r=e.LoadedPdfName,a=e.setIsErrorInfoModalOpen,s=e.setInfoModalMessage,i=e.setIsSlicedPdfReadyOnAWS,d=e.setIsAppLoading,u=Object(o.useState)((function(){return!1})),j=Object(l.a)(u,2),f=j[0],b=j[1],m=Object(o.useState)((function(){return N[0].toLowerCase()})),h=Object(l.a)(m,2),p=h[0],O=h[1],x=Object(o.useState)((function(){return N[0].toLowerCase()})),g=Object(l.a)(x,2),v=g[0],y=g[1],C={scaleBeforeSlice:f,scaleToFormat:p,sliceByFormat:v,filename:r};function A(e){var t;d(!0),i(!1),(t=e,console.log("...requestingParamsToSlicePdf..."),new Promise((function(e,n){var c="".concat(P.BACKEND_SERVER,"slice/").concat(JSON.stringify(t));fetch(c,{method:"GET"}).then(e).catch((function(e){return n(e)}))}))).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){"Fail"===e.Status?(d(!1),s(e.ErrorMessage),a(!0),i(!1)):(d(!1),i(!0))})).catch((function(e){d(!1)}))}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"form-container--scalefrom",children:[Object(c.jsx)(w,{ScaleButtonText:t,setScaleBeforeSlice:function(e){return b(e)}}),Object(c.jsx)(k,{setScaleToFormat:function(e){return O(e)}})]}),Object(c.jsxs)("div",{className:"form-container--sliceform",children:[Object(c.jsx)(S,{SliceButtonText:n,SliceFunction:function(){return A(C)}}),Object(c.jsx)(I,{setSliceByFormat:function(e){return y(e)}})]})]})},C=function(e){var t=e.isPdfSinglePage,n=e.pdfInputFormat;return Object(c.jsxs)("section",{children:[Object(c.jsxs)("p",{children:[" PDF has ",t," page."]}),Object(c.jsxs)("p",{children:[" PDF input format is in ",n," format."]})]})},A=n(9),F=n.n(A);n(38);F.a.setAppElement("#root");var B=function(e){var t=e.isShown,n=e.infoMessage,o=e.onClose;return t?Object(c.jsx)("div",{className:"modal",children:Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-box",children:[Object(c.jsx)("div",{className:"modal-close btn",children:Object(c.jsx)("img",{src:"/closeIcon.png",className:"close-modal-img",alt:"Close modal",onClick:o})}),Object(c.jsx)("div",{className:"modal-text",children:Object(c.jsx)("p",{children:n})})]})})}):null},E=function(e){var t=e.ResetButtonText,n=e.ClearStates;return Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn__restart",onClick:function(){return n()},children:t})})};n(39);F.a.setAppElement("#root");var R=function(){return console.log("...askingForExamplePDF..."),new Promise(function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://drawing-slicer.herokuapp.com/exampledata",fetch("https://drawing-slicer.herokuapp.com/exampledata",{method:"GET"}).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.setAttribute("download","resultedSlicedPdf.zip"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})).catch((function(e){return n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},D=function(e){var t=e.isShown,n=e.onClose;return t?Object(c.jsx)("div",{className:"modal",children:Object(c.jsx)("div",{className:"modal-overlay",children:Object(c.jsxs)("div",{className:"modal-box",children:[Object(c.jsx)("div",{className:"modal-close btn",children:Object(c.jsx)("img",{src:"/closeIcon.png",className:"close-modal-img",alt:"Close modal",onClick:n})}),Object(c.jsxs)("div",{className:"modal-text",children:[Object(c.jsx)("h2",{children:"What is Drawing Slicer ?"}),Object(c.jsx)("p",{children:"Drawing slicer is single web page application, which may slice your giant formats (A1 or A0) to multiple A4 (or any smaller) formats ! Then you are able to print your drawing on home printer and glue the piecies together."}),Object(c.jsx)("h2",{children:"I would like to only test it"}),Object(c.jsx)("p",{children:"In case you just want to test the functionality of the application and have not any drawings you can try download files in attachment below."})]}),Object(c.jsx)("div",{className:"modal-download btn",children:Object(c.jsx)("img",{src:"/downloadIcon.png",className:"download-pdf-img",alt:"Download PDF",onClick:R})})]})})}):null},T=function(e){var t=e.DownloadButtonText,n=e.PreparedSlicedPdf,o=e.RequestFileFromAws,r=e.RestartAppStates,a=e.setIsAppLoading;return Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn__download",onClick:function(){return a(!0),r(),void o(n).then(a(!1))},children:t})})};function L(){console.log("...sendingRequestToClearBackendStorage...");var e="".concat(P.BACKEND_SERVER,"clearawsbucket");fetch(e)}var M=function(){var e=Object(o.useState)((function(){return!1})),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)((function(){})),s=Object(l.a)(a,2),u=s[0],f=s[1],p=Object(o.useState)((function(){})),g=Object(l.a)(p,2),w=g[0],S=g[1],N=Object(o.useState)((function(){return!1})),k=Object(l.a)(N,2),I=k[0],A=k[1],F=Object(o.useState)((function(){})),R=Object(l.a)(F,2),M=R[0],_=R[1],q=Object(o.useState)((function(){return!1})),U=Object(l.a)(q,2),J=U[0],K=U[1],V=Object(o.useState)((function(){})),W=Object(l.a)(V,2),z=(W[0],W[1]),G=Object(o.useState)((function(){})),Q=Object(l.a)(G,2),H=Q[0],X=Q[1],Y=Object(o.useState)((function(){return!1})),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(o.useState)((function(){return!1})),ne=Object(l.a)(te,2),ce=ne[0],oe=ne[1];function re(){r(!1),f(void 0),S(void 0),z(void 0),X(void 0),ee(!1)}return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"Header",children:[Object(c.jsx)(m,{setIsQuestionMarkInfoModalOpen:function(e){return K(e)}}),Object(c.jsx)(b,{link:"https://www.linkedin.com/in/juraj-zovinec/"}),Object(c.jsx)(j,{link:"https://github.com/Jurajzovinec/drawing-slicer"})]}),Object(c.jsxs)("div",{className:"Body",children:[Object(c.jsxs)("div",{className:"body--header",children:[Object(c.jsx)(h,{text:"Welcome to Drawing Slicer"}),Object(c.jsx)("div",{className:"body--header--barloader",children:Object(c.jsx)(d.BarLoader,{color:"yellow",width:500,height:1,loading:ce})})]}),Object(c.jsxs)("div",{className:"body--userinterface",children:[n?null:Object(c.jsx)("div",{className:"userinterface--loadpdfarea-container",children:Object(c.jsx)(v,{setIsPdfConfirmed:function(e){return r(e)},setPdfNumberOfPages:function(e){return f(e)},setPdfFormat:function(e){return S(e)},setInfoModalMessage:function(e){return _(e)},setIsErrorInfoModalOpen:function(e){return A(e)},setLoadedPdfFile:function(e){return z(e)},setloadedPdfFileName:function(e){return X(e)},setIsAppLoading:function(e){return oe(e)},dragAndDropText:"Drag and drop your PDF drawing here."})}),n?Object(c.jsx)("div",{className:"userinterface--infopdfarea-container",children:Object(c.jsx)(C,{isPdfSinglePage:u,pdfInputFormat:w})}):null,Object(c.jsx)("div",Object(i.a)(Object(i.a)({className:"userinterface--form-container"},n?{}:{"aria-disabled":!0}),{},{children:Object(c.jsx)(y,{ScaleButtonText:"Scale before slice ? ",SliceButtonText:"Slice drawing",LoadedPdfName:H,setInfoModalMessage:function(e){return _(e)},setIsErrorInfoModalOpen:function(e){return A(e)},setIsSlicedPdfReadyOnAWS:function(e){return ee(e)},setIsAppLoading:function(e){return oe(e)}})}))]}),Object(c.jsx)("div",{children:Object(c.jsx)(B,{isShown:I,infoMessage:M,onClose:function(){return A(!I)}})}),Object(c.jsx)("div",{children:Object(c.jsx)(D,{isShown:J,onClose:function(){return K(!J)}})}),Object(c.jsxs)("div",{className:"body--footercontrolbuttons-container",children:[Object(c.jsx)("div",{className:"footercontrolbuttons-container--restartbutton-container",children:n?Object(c.jsx)(E,{ClearStates:function(){return re()},ResetButtonText:"Restart"}):null}),Object(c.jsx)("div",{className:"footercontrolbuttons-container--downloadbutton-container",children:$?Object(c.jsx)(T,{PreparedSlicedPdf:H,RestartAppStates:function(){return re()},RequestFileFromAws:function(){return function(e){console.log("...askingForResultPDF...");var t="".concat(P.BACKEND_SERVER,'filedownload/{"requestedFileName":"').concat(e,'"}');return new Promise(function(){var n=Object(x.a)(O.a.mark((function n(c,o){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:fetch(t,{method:"GET"}).then((function(e){return e.blob()})).then((function(t){var n=new Blob([t]),c=window.URL.createObjectURL(n),o=document.createElement("a");return o.href=c,o.setAttribute("download","SlicedByDrawingSlicer_".concat(e)),document.body.appendChild(o),o.click(),o.parentNode.removeChild(o),window.URL.revokeObjectURL(t.toString()),"OK"})).then((function(e){"OK"===e?(L(),c(e)):o("File was not downloaded correctly.")})).catch((function(e){return o(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}(H)},DownloadButtonText:"Download sliced pdf",setIsAppLoading:function(e){return oe(e)}}):null})]})]})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.41270dc0.chunk.js.map